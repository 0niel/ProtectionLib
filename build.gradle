/*
 * This file was generated by the Gradle 'init' task.
 */

buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }

  }
  dependencies {
    classpath "gradle.plugin.com.github.johnrengelman:shadow:7.1.0"
  }
}

apply plugin: 'de.Ste3et_C0st.furniture.protectionLib'
apply plugin: 'com.github.johnrengelman.shadow'

dependencies {
    implementation project(':Core')
    implementation project(':PlotSquaredV3')
    implementation project(':PlotSquaredV4')
    implementation project(':PlotSquaredV6')
    implementation project(':PlotSquaredV7')
    implementation project(':LocalLibary')
}

subprojects.each { subproject -> evaluationDependsOn(subproject.path)}

tasks {
   jar {
	   enabled = true
   }
   
   assemble{
    	dependsOn(shadowJar)
   }
}

shadowJar {
       mergeServiceFiles()
	   archiveClassifier.set('')
}

task copyJarToBin {
	copy {
	    from "build/libs/${project.name}-${project.version}.jar"
	    into "build/libs/"
	    rename { String fileName ->
        	fileName.replace("-$project.version", "")
    	}
	}
}

/*task allJar(type: Jar, dependsOn: subprojects.assemble) {
   archiveBaseName = project.name
   version = project.version
   subprojects.each { subproject -> 
      from subproject.configurations.archives.allArtifacts.files.collect {
         zipTree(it)
       }
    }
}

artifacts {
    archives allJar
}*/

